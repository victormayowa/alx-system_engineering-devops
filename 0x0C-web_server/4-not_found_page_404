#!/usr/bin/env bash
# This script configures nginx to have a custom 404 page

# Check if nginx is installed
if ! command -v nginx &> /dev/null; then
    echo "Nginx is not installed. Please run the installation script first."
    exit 1
fi

# Create a custom HTML page for 404 error
echo '<html><body>Ceci n'"'"'est pas une page</body></html>' > /usr/share/nginx/html/404.html

# Update nginx configuration to use the custom 404 page
sed -i '/server {/a \\terror_page 404 /404.html;' /etc/nginx/sites-available/default

# Restart nginx
/etc/init.d/nginx reload

echo "Custom 404 page configured successfully!"
